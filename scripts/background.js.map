{"version":3,"sources":["scripts/background.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","chrome","runtime","onInstalled","addListener","details","console","log","previousVersion","tabs","onUpdated","tabId","pageAction","show","onClicked","tab","sendMessage","id","message","setIcon","path","16","19","38","128","setTitle","title","onMessage","request","sender","sendResponse","method","data","localStorage","key"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,YAEAK,QAAOC,QAAQC,YAAYC,YAAY,SAAUC,GAC/CC,QAAQC,IAAI,kBAAmBF,EAAQG,mBAGzCP,OAAOQ,KAAKC,UAAUN,YAAY,SAAUO,GAC1CV,OAAOW,WAAWC,KAAKF,KAGzBV,OAAOW,WAAWE,UAAUV,YAAY,SAAUW,GAChDd,OAAOQ,KAAKO,YAAYD,EAAIE,IAAMC,QAAS,gBAC3CjB,OAAOW,WAAWO,SAAUC,MACxBC,GAAI,4BACJC,GAAI,4BACJC,GAAI,4BACJC,IAAK,8BACJb,MAAOI,EAAIE,KAChBhB,OAAOW,WAAWa,UAAWC,MAAO,gBAAiBf,MAAOI,EAAIE,OAGlEhB,OAAOC,QAAQyB,UAAUvB,YAAY,SAAUwB,EAASC,EAAQC,GACtC,gBAApBF,EAAQV,SACVjB,OAAOW,WAAWO,SAAUC,MACxBC,GAAI,uBACJC,GAAI,qBACJC,GAAI,qBACJC,IAAK,uBACJb,MAAOkB,EAAOd,IAAIE,OAI3BhB,OAAOC,QAAQyB,UAAUvB,YAAY,SAAUwB,EAASC,EAAQC,GACrBA,EAAnB,mBAAlBF,EAAQG,QAA4CC,KAAMC,aAAaL,EAAQM,sBAG1E","file":"background.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nchrome.runtime.onInstalled.addListener(function (details) {\n  console.log('previousVersion', details.previousVersion);\n});\n\nchrome.tabs.onUpdated.addListener(function (tabId) {\n  chrome.pageAction.show(tabId);\n});\n\nchrome.pageAction.onClicked.addListener(function (tab) {\n  chrome.tabs.sendMessage(tab.id, { message: 'scrape user' });\n  chrome.pageAction.setIcon({ path: {\n      16: 'images/upload/icon-16.png',\n      19: 'images/upload/icon-19.png',\n      38: 'images/upload/icon-38.png',\n      128: 'images/upload/icon-128.png'\n    }, tabId: tab.id });\n  chrome.pageAction.setTitle({ title: 'Processing...', tabId: tab.id });\n});\n\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n  if (request.message === 'change icon') {\n    chrome.pageAction.setIcon({ path: {\n        16: 'image  s/icon-16.png',\n        19: 'images/icon-19.png',\n        38: 'images/icon-38.png',\n        128: 'images/icon-128.png'\n      }, tabId: sender.tab.id });\n  }\n});\n\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n  if (request.method == 'getLocalStorage') sendResponse({ data: localStorage[request.key] });else sendResponse({}); // snub them.\n});\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHBcXHNjcmlwdHMuYmFiZWxcXGJhY2tncm91bmQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUFFQSxPQUFPLE9BQVAsQ0FBZSxXQUFmLENBQTJCLFdBQTNCLENBQXVDLG1CQUFXO0FBQ2hELFVBQVEsR0FBUixDQUFZLGlCQUFaLEVBQStCLFFBQVEsZUFBdkM7QUFDRCxDQUZEOztBQUlBLE9BQU8sSUFBUCxDQUFZLFNBQVosQ0FBc0IsV0FBdEIsQ0FBa0MsaUJBQVM7QUFDekMsU0FBTyxVQUFQLENBQWtCLElBQWxCLENBQXVCLEtBQXZCO0FBQ0QsQ0FGRDs7QUFJQSxPQUFPLFVBQVAsQ0FBa0IsU0FBbEIsQ0FBNEIsV0FBNUIsQ0FBd0MsZUFBTztBQUM3QyxTQUFPLElBQVAsQ0FBWSxXQUFaLENBQXdCLElBQUksRUFBNUIsRUFBZ0MsRUFBRSxTQUFTLGFBQVgsRUFBaEM7QUFDQSxTQUFPLFVBQVAsQ0FBa0IsT0FBbEIsQ0FBMEIsRUFBQyxNQUFNO0FBQy9CLFVBQUksMkJBRDJCO0FBRS9CLFVBQUksMkJBRjJCO0FBRy9CLFVBQUksMkJBSDJCO0FBSS9CLFdBQUs7QUFKMEIsS0FBUCxFQUt2QixPQUFPLElBQUksRUFMWSxFQUExQjtBQU1BLFNBQU8sVUFBUCxDQUFrQixRQUFsQixDQUEyQixFQUFDLE9BQU8sZUFBUixFQUF5QixPQUFPLElBQUksRUFBcEMsRUFBM0I7QUFDRCxDQVREOztBQVdBLE9BQU8sT0FBUCxDQUFlLFNBQWYsQ0FBeUIsV0FBekIsQ0FBcUMsVUFBQyxPQUFELEVBQVUsTUFBVixFQUFrQixZQUFsQixFQUFtQztBQUN0RSxNQUFJLFFBQVEsT0FBUixLQUFvQixhQUF4QixFQUF1QztBQUNyQyxXQUFPLFVBQVAsQ0FBa0IsT0FBbEIsQ0FBMEIsRUFBQyxNQUFNO0FBQy9CLFlBQUksc0JBRDJCO0FBRS9CLFlBQUksb0JBRjJCO0FBRy9CLFlBQUksb0JBSDJCO0FBSS9CLGFBQUs7QUFKMEIsT0FBUCxFQUt2QixPQUFPLE9BQU8sR0FBUCxDQUFXLEVBTEssRUFBMUI7QUFNRDtBQUNGLENBVEQ7O0FBV0EsT0FBTyxPQUFQLENBQWUsU0FBZixDQUF5QixXQUF6QixDQUFxQyxVQUFTLE9BQVQsRUFBa0IsTUFBbEIsRUFBMEIsWUFBMUIsRUFBd0M7QUFDM0UsTUFBSSxRQUFRLE1BQVIsSUFBa0IsaUJBQXRCLEVBQ0UsYUFBYSxFQUFDLE1BQU0sYUFBYSxRQUFRLEdBQXJCLENBQVAsRUFBYixFQURGLEtBR0UsYUFBYSxFQUFiLEVBSnlFLENBSXZEO0FBQ3JCLENBTEQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG5jaHJvbWUucnVudGltZS5vbkluc3RhbGxlZC5hZGRMaXN0ZW5lcihkZXRhaWxzID0+IHtcclxuICBjb25zb2xlLmxvZygncHJldmlvdXNWZXJzaW9uJywgZGV0YWlscy5wcmV2aW91c1ZlcnNpb24pXHJcbn0pXHJcblxyXG5jaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIodGFiSWQgPT4ge1xyXG4gIGNocm9tZS5wYWdlQWN0aW9uLnNob3codGFiSWQpXHJcbn0pXHJcblxyXG5jaHJvbWUucGFnZUFjdGlvbi5vbkNsaWNrZWQuYWRkTGlzdGVuZXIodGFiID0+IHtcclxuICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWIuaWQsIHsgbWVzc2FnZTogJ3NjcmFwZSB1c2VyJyB9KTtcclxuICBjaHJvbWUucGFnZUFjdGlvbi5zZXRJY29uKHtwYXRoOiB7XHJcbiAgICAxNjogJ2ltYWdlcy91cGxvYWQvaWNvbi0xNi5wbmcnLFxyXG4gICAgMTk6ICdpbWFnZXMvdXBsb2FkL2ljb24tMTkucG5nJyxcclxuICAgIDM4OiAnaW1hZ2VzL3VwbG9hZC9pY29uLTM4LnBuZycsXHJcbiAgICAxMjg6ICdpbWFnZXMvdXBsb2FkL2ljb24tMTI4LnBuZydcclxuICB9LCB0YWJJZDogdGFiLmlkfSlcclxuICBjaHJvbWUucGFnZUFjdGlvbi5zZXRUaXRsZSh7dGl0bGU6ICdQcm9jZXNzaW5nLi4uJywgdGFiSWQ6IHRhYi5pZH0pXHJcbn0pXHJcblxyXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XHJcbiAgaWYgKHJlcXVlc3QubWVzc2FnZSA9PT0gJ2NoYW5nZSBpY29uJykge1xyXG4gICAgY2hyb21lLnBhZ2VBY3Rpb24uc2V0SWNvbih7cGF0aDoge1xyXG4gICAgICAxNjogJ2ltYWdlICBzL2ljb24tMTYucG5nJyxcclxuICAgICAgMTk6ICdpbWFnZXMvaWNvbi0xOS5wbmcnLFxyXG4gICAgICAzODogJ2ltYWdlcy9pY29uLTM4LnBuZycsXHJcbiAgICAgIDEyODogJ2ltYWdlcy9pY29uLTEyOC5wbmcnXHJcbiAgICB9LCB0YWJJZDogc2VuZGVyLnRhYi5pZH0pXHJcbiAgfVxyXG59KVxyXG5cclxuY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XHJcbiAgaWYgKHJlcXVlc3QubWV0aG9kID09ICdnZXRMb2NhbFN0b3JhZ2UnKVxyXG4gICAgc2VuZFJlc3BvbnNlKHtkYXRhOiBsb2NhbFN0b3JhZ2VbcmVxdWVzdC5rZXldfSk7XHJcbiAgZWxzZVxyXG4gICAgc2VuZFJlc3BvbnNlKHt9KTsgLy8gc251YiB0aGVtLlxyXG59KTsiXX0=\n"]}